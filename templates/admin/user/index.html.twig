{% extends 'base.html.twig' %} {% block title %}User index{% endblock %} {% block body %}
<h1 class="text-4xl pl-6 my-4 ">Liste des utilisateurs</h1>
<hr class="mb-10 ">
<div class="flex flex-col items-center text-center ">
    <table class="w-full table border-separate border border-purple-800 ">
        <thead>
            <tr>
                <th class="border border-purple-800 ">Id</th>
                <th class="border border-purple-800 ">Email</th>
                <th class="border border-purple-800 ">Roles</th>
                <th class="border border-purple-800 ">Nom</th>
                <th class="border border-purple-800 ">Prenom</th>
                <th class="border border-purple-800 ">actions</th>
                <th class="border border-purple-800 ">delete</th>

            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td class="border border-purple-800 ">{{ user.id }}</td>
                <td class="border border-purple-800 ">{{ user.email }}</td>
                <td class="border border-purple-800 ">{{ user.roles|join(', ')|lower|replace({'role_': ""})}}
                </td>
                <td class="border border-purple-800 ">{{ user.nom }}</td>
                <td class="border border-purple-800 ">{{ user.prenom }}</td>
                <td class="border border-purple-800 grid grid-rows-2 grid-flow-col gap-3 py-2 ">
                    <a href="{{ path('user_show', {'id': user.id}) }}"><button
                        class=" w-full self-center bg-purple-500 hover:bg-purple-700 text-white py-1 rounded ">Voir
                        <i class="fa fa-eye " aria-hidden="true "></i> </button></a>
                    <a href="{{ path('user_edit', {'id': user.id}) }}"><button
                        class="w-full self-center bg-purple-500 hover:bg-purple-700 text-white py-1 rounded ">edit <i class="fas fa-edit"></i></button></a>
                </td>
                <td class="border border-purple-800 ">
                    {{ include('admin/user/_delete_form.html.twig') }}
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="7">no records found</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('user_new') }}"><button
        class=" self-center bg-purple-500 hover:bg-purple-700 text-white my-3 p-1 rounded ">Nouvel
        utilisateur <i class="fas fa-plus"></i></button></a>
</div>
<a href="{{ path('admin') }}" class=" font-semibold text-indigo-600 align-middle text-sm ml-5 "><i class="fa fa-arrow-left pb-10 " aria-hidden="true"></i> retour a l'acceuil</a> {% endblock %}